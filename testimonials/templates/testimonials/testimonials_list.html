{% extends 'base_generic.html' %}
{% load static %}

{% block title %}Testimonials{% endblock %}

{% block content %}
<!-- Hero Banner -->
<div class="hero-banner">
    <h1 id="testimonials-heading">Testimonials</h1>
</div>

<!-- Introductory Text -->
<div class="intro-text">
    <p>Provigilance has been in business since 2006. Over this time we have relied primarily on word of mouth and repeat business. Here are some testimonials from our clients.</p>
</div>

<div id="testimonials-container" class="testimonials" aria-labelledby="testimonials-heading">
    {% for testimonial in testimonials %}
        <div class="testimonial{% if forloop.counter0|divisibleby:2 %} reverse{% endif %}" role="region" aria-label="Testimonial from {{ testimonial.name.split|first }} at {{ testimonial.company }}">
            {% if testimonial.image %}
                <img src="{{ testimonial.image.url }}" alt="Testimonial from {{ testimonial.company }}" class="testimonial-img">
            {% endif %}
            <div class="testimonial-content">
                <p>{{ testimonial.text }} - {{ testimonial.service_month }} {{ testimonial.service_year }}</p>
                <p>{{ testimonial.name.split|first }} at</p>
                <h3>{{ testimonial.company }}</h3>
                <div class="recommendation">
                    {% if testimonial.recommend == 'yes' %}
                        &#10003; Would recommend
                    {% endif %}
                </div>
            </div>
        </div>
    {% endfor %}
</div>

<!-- Submit Your Own Testimonial Link -->
<div class="submit-your-own">
    <p>We value your feedback and it helps us grow our business. <a href="{% url 'submit_testimonial' %}">Submit your own testimonial</a></p>
</div>

<div class="arrow" onclick="showMoreTestimonials()" role="button" tabindex="0" aria-label="Show more testimonials">></div>

<script>
function showMoreTestimonials() {
    // Optional: Implement logic to show more testimonials if needed
}
</script>

{% endblock %}
